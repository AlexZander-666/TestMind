# Shannon贡献质量检查清单

**使用方法：** 在提交PR前，逐项检查以下清单

---

## 📋 代码质量检查

### 测试代码检查

- [ ] **测试可读性**
  - [ ] 测试名称清晰描述测试内容
  - [ ] 使用describe/it结构组织
  - [ ] 遵循AAA模式（Arrange-Act-Assert）

- [ ] **测试完整性**
  - [ ] 覆盖正常流程
  - [ ] 覆盖边界情况
  - [ ] 覆盖错误处理
  - [ ] 所有分支都被测试

- [ ] **断言准确性**
  - [ ] 断言验证正确的值
  - [ ] 使用合适的matcher
  - [ ] 避免过于宽松的断言

- [ ] **Mock策略**
  - [ ] Mock外部依赖
  - [ ] 不Mock被测试的代码
  - [ ] Mock恢复正确（afterEach）
  - [ ] Mock行为符合实际

---

## 🔧 技术质量检查

### TypeScript检查

- [ ] **类型安全**
  - [ ] 无TypeScript编译错误
  - [ ] 无any类型（除非必要）
  - [ ] import路径正确

- [ ] **代码风格**
  - [ ] 遵循项目的prettier配置
  - [ ] 遵循项目的eslint规则
  - [ ] 缩进和格式一致

### 测试执行检查

- [ ] **本地验证**
  - [ ] 所有测试通过（`pnpm test`）
  - [ ] 无警告或错误
  - [ ] 覆盖率达标（>80%）

- [ ] **性能检查**
  - [ ] 测试执行快速（<500ms per file）
  - [ ] 无不必要的异步等待
  - [ ] 无内存泄漏

---

## 📝 PR提交检查

### Git检查

- [ ] **Commit质量**
  - [ ] Commit message遵循约定（`test:`, `fix:`等）
  - [ ] 每个commit有明确的目的
  - [ ] Commit数量合理（不过多也不过少）

- [ ] **分支管理**
  - [ ] 分支名称描述性强
  - [ ] 基于最新的main/master
  - [ ] 无合并冲突

### PR描述检查

- [ ] **信息完整**
  - [ ] 有清晰的Description
  - [ ] 有Coverage Improvement数据
  - [ ] 有Test Quality Checklist
  - [ ] 有Test Examples

- [ ] **态度友好**
  - [ ] 感谢reviewers
  - [ ] 表明愿意修改
  - [ ] 说明生成工具（TestMind）

---

## 🎯 Shannon特定检查

### 项目规范

- [ ] **阅读文档**
  - [ ] 已阅读CONTRIBUTING.md
  - [ ] 了解项目测试约定
  - [ ] 了解代码风格要求

- [ ] **遵循模式**
  - [ ] 参考现有测试文件
  - [ ] 使用相同的测试框架（vitest）
  - [ ] 遵循相同的文件结构

### 测试特定

- [ ] **Shannon测试约定**
  - [ ] 测试文件位置正确（`lib/__tests__/` 或 `lib/*.test.ts`）
  - [ ] import路径使用别名（`@/lib/...`）
  - [ ] 使用项目的测试工具（vitest）

---

## ⚠️ 常见问题检查

### 避免这些错误

- [ ] ❌ 没有把console.log留在测试中
- [ ] ❌ 没有提交node_modules
- [ ] ❌ 没有提交.env文件
- [ ] ❌ 没有硬编码敏感信息
- [ ] ❌ 没有包含无关的文件修改

### 确保这些做对

- [ ] ✅ 测试文件命名正确（*.test.ts）
- [ ] ✅ 所有import都能resolve
- [ ] ✅ 测试独立运行（不依赖顺序）
- [ ] ✅ 测试确定性（不random）
- [ ] ✅ 清理资源（afterEach/afterAll）

---

## 📊 质量评分卡

### 自我评估（1-5分）

**测试覆盖：** ⭐⭐⭐⭐⭐  
**测试质量：** ⭐⭐⭐⭐⭐  
**代码风格：** ⭐⭐⭐⭐⭐  
**PR描述：** ⭐⭐⭐⭐⭐  

**总分：** 20/20 → ✅ 准备提交

**如果总分<16：** 需要继续改进

---

## 🚀 提交前最后检查

### 三次确认

1. **再次运行测试**
   ```bash
   pnpm test
   pnpm typecheck
   pnpm lint
   ```

2. **再次审查diff**
   ```bash
   git diff main
   ```

3. **再次阅读PR描述**
   - 所有链接都正确
   - 所有checkbox都勾选
   - 无拼写错误

### 提交！

如果以上全部确认，你的PR已经准备好了！

```bash
git push origin your-branch-name
```

然后在GitHub上创建PR。

---

## 📈 提交后

### 等待Review

**预期时间：** 1-7天（视项目活跃度）

**期间可以做：**
- 继续准备下一个PR
- 优化TestMind
- 学习Shannon代码库

### 响应反馈

**收到comments时：**
1. 仔细阅读
2. 感谢reviewer
3. 快速修改（24-48小时内）
4. 推送更新
5. 回复说明修改内容

---

## ✅ 合并后

### 庆祝！🎉

你成功为Shannon贡献了代码！

**下一步：**
1. 更新你的fork
2. 删除已合并的分支
3. 在简历上添加开源贡献
4. 准备下一个贡献
5. 分享经验（博客/Twitter）

---

**质量第一，数量第二。** 

一个高质量的PR胜过十个草率的PR。












