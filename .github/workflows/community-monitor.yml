# Community Feedback Monitor
# ç›‘æ§GitHub Issuesã€PRsã€Discussionsçš„æ´»åŠ¨

name: Community Monitor

on:
  issues:
    types: [opened, labeled, reopened]
  discussion:
    types: [created, answered]
  pull_request_target:
    types: [opened]

permissions:
  issues: write
  discussions: write
  pull-requests: write

jobs:
  triage:
    runs-on: ubuntu-latest
    
    steps:
      - name: Auto-label critical issues
        if: github.event_name == 'issues' && contains(github.event.issue.body, 'critical')
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['priority: critical']
            });

      - name: Auto-label bug reports
        if: github.event_name == 'issues' && contains(github.event.issue.title, 'Bug')
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['bug']
            });

      - name: Welcome first-time contributors
        if: github.event_name == 'issues' || github.event_name == 'pull_request_target'
        uses: actions/first-interaction@v1
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          issue-message: |
            ğŸ‘‹ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ªIssueï¼æˆ‘ä»¬ä¼šå°½å¿«æŸ¥çœ‹å¹¶å›å¤ã€‚
            
            å¦‚æœè¿™æ˜¯bugæŠ¥å‘Šï¼Œè¯·ç¡®ä¿ï¼š
            - æä¾›äº†å¤ç°æ­¥éª¤
            - åŒ…å«äº†ç¯å¢ƒä¿¡æ¯
            - é™„ä¸Šäº†é”™è¯¯æ—¥å¿—
            
            å¦‚æœæœ‰ç´§æ€¥é—®é¢˜ï¼Œå¯ä»¥åœ¨[Discussions](https://github.com/AlexZander-666/TestMind/discussions)ä¸­æé—®ã€‚
          pr-message: |
            ğŸ‰ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ªPRï¼
            
            æˆ‘ä»¬ä¼šä»”ç»†reviewæ‚¨çš„ä»£ç ã€‚é€šå¸¸åœ¨48å°æ—¶å†…ä¼šæœ‰åé¦ˆã€‚
            
            è¯·ç¡®ä¿ï¼š
            - [ ] ä»£ç é€šè¿‡lintæ£€æŸ¥
            - [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
            - [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
            
            æ„Ÿè°¢è´¡çŒ®ï¼ğŸ™

      - name: Notify on critical issues
        if: github.event_name == 'issues' && contains(github.event.issue.labels.*.name, 'priority: critical')
        uses: actions/github-script@v7
        with:
          script: |
            // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ Slack/Emailé€šçŸ¥
            console.log('Critical issue detected:', context.issue.number);

# ç›‘æ§GitHub Issuesã€PRsã€Discussionsçš„æ´»åŠ¨

name: Community Monitor

on:
  issues:
    types: [opened, labeled, reopened]
  discussion:
    types: [created, answered]
  pull_request_target:
    types: [opened]

permissions:
  issues: write
  discussions: write
  pull-requests: write

jobs:
  triage:
    runs-on: ubuntu-latest
    
    steps:
      - name: Auto-label critical issues
        if: github.event_name == 'issues' && contains(github.event.issue.body, 'critical')
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['priority: critical']
            });

      - name: Auto-label bug reports
        if: github.event_name == 'issues' && contains(github.event.issue.title, 'Bug')
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['bug']
            });

      - name: Welcome first-time contributors
        if: github.event_name == 'issues' || github.event_name == 'pull_request_target'
        uses: actions/first-interaction@v1
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          issue-message: |
            ğŸ‘‹ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ªIssueï¼æˆ‘ä»¬ä¼šå°½å¿«æŸ¥çœ‹å¹¶å›å¤ã€‚
            
            å¦‚æœè¿™æ˜¯bugæŠ¥å‘Šï¼Œè¯·ç¡®ä¿ï¼š
            - æä¾›äº†å¤ç°æ­¥éª¤
            - åŒ…å«äº†ç¯å¢ƒä¿¡æ¯
            - é™„ä¸Šäº†é”™è¯¯æ—¥å¿—
            
            å¦‚æœæœ‰ç´§æ€¥é—®é¢˜ï¼Œå¯ä»¥åœ¨[Discussions](https://github.com/AlexZander-666/TestMind/discussions)ä¸­æé—®ã€‚
          pr-message: |
            ğŸ‰ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ªPRï¼
            
            æˆ‘ä»¬ä¼šä»”ç»†reviewæ‚¨çš„ä»£ç ã€‚é€šå¸¸åœ¨48å°æ—¶å†…ä¼šæœ‰åé¦ˆã€‚
            
            è¯·ç¡®ä¿ï¼š
            - [ ] ä»£ç é€šè¿‡lintæ£€æŸ¥
            - [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
            - [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
            
            æ„Ÿè°¢è´¡çŒ®ï¼ğŸ™

      - name: Notify on critical issues
        if: github.event_name == 'issues' && contains(github.event.issue.labels.*.name, 'priority: critical')
        uses: actions/github-script@v7
        with:
          script: |
            // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ Slack/Emailé€šçŸ¥
            console.log('Critical issue detected:', context.issue.number);

# ç›‘æ§GitHub Issuesã€PRsã€Discussionsçš„æ´»åŠ¨

name: Community Monitor

on:
  issues:
    types: [opened, labeled, reopened]
  discussion:
    types: [created, answered]
  pull_request_target:
    types: [opened]

permissions:
  issues: write
  discussions: write
  pull-requests: write

jobs:
  triage:
    runs-on: ubuntu-latest
    
    steps:
      - name: Auto-label critical issues
        if: github.event_name == 'issues' && contains(github.event.issue.body, 'critical')
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['priority: critical']
            });

      - name: Auto-label bug reports
        if: github.event_name == 'issues' && contains(github.event.issue.title, 'Bug')
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['bug']
            });

      - name: Welcome first-time contributors
        if: github.event_name == 'issues' || github.event_name == 'pull_request_target'
        uses: actions/first-interaction@v1
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          issue-message: |
            ğŸ‘‹ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ªIssueï¼æˆ‘ä»¬ä¼šå°½å¿«æŸ¥çœ‹å¹¶å›å¤ã€‚
            
            å¦‚æœè¿™æ˜¯bugæŠ¥å‘Šï¼Œè¯·ç¡®ä¿ï¼š
            - æä¾›äº†å¤ç°æ­¥éª¤
            - åŒ…å«äº†ç¯å¢ƒä¿¡æ¯
            - é™„ä¸Šäº†é”™è¯¯æ—¥å¿—
            
            å¦‚æœæœ‰ç´§æ€¥é—®é¢˜ï¼Œå¯ä»¥åœ¨[Discussions](https://github.com/AlexZander-666/TestMind/discussions)ä¸­æé—®ã€‚
          pr-message: |
            ğŸ‰ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ªPRï¼
            
            æˆ‘ä»¬ä¼šä»”ç»†reviewæ‚¨çš„ä»£ç ã€‚é€šå¸¸åœ¨48å°æ—¶å†…ä¼šæœ‰åé¦ˆã€‚
            
            è¯·ç¡®ä¿ï¼š
            - [ ] ä»£ç é€šè¿‡lintæ£€æŸ¥
            - [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
            - [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
            
            æ„Ÿè°¢è´¡çŒ®ï¼ğŸ™

      - name: Notify on critical issues
        if: github.event_name == 'issues' && contains(github.event.issue.labels.*.name, 'priority: critical')
        uses: actions/github-script@v7
        with:
          script: |
            // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ Slack/Emailé€šçŸ¥
            console.log('Critical issue detected:', context.issue.number);

